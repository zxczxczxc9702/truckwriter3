# Render 배포 설정
services:
  - type: web
    name: truckwriter
    runtime: docker
    plan: free
    healthCheckPath: /
    # Docker 빌드 시 전달할 ARG (NEXT_PUBLIC_ 변수는 빌드 시 필요!)
    dockerBuildArgs:
      NEXT_PUBLIC_SUPABASE_URL: "https://vumjtbwsbrkdhstwgjkw.supabase.co"
      NEXTAUTH_URL: "https://truckwriter3.onrender.com"
      NEXTAUTH_SECRET: "mysecretkey12345678901234567890"
    envVars:
      - key: NODE_ENV
        value: production
      - key: CHROME_PATH
        value: /usr/bin/google-chrome
      - key: CHROMEDRIVER_PATH
        value: /usr/bin/chromedriver
      # 런타임 환경변수 (Render 대시보드에서 설정)
      - key: NEXT_PUBLIC_SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_ROLE_KEY
        sync: false
      - key: PERPLEXITY_API_KEY
        sync: false
      - key: NEXTAUTH_SECRET
        sync: false
      - key: NEXTAUTH_URL
        sync: false
